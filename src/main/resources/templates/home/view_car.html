<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car</title>

    <link rel="stylesheet" type="text/css" href="/view_car.css">
    <link rel="stylesheet" href="/fragments.css">
</head>
<body>

<header>
    <div th:insert="~{home/fragments :: header(${Car.licensePlateNumber} + ' - ' + ${Car.brand} + ' ' + ${Car.model})}"></div>
    <div th:insert="~{home/fragments :: logo}"></div>
    <div th:insert="~{home/fragments :: navbar('/')}"></div>
</header>

<table class="car-table">
    <thead>
    <tr>
        <th>Chassis number</th>
        <th>Car brand</th>
        <th>Car model</th>
        <th>Car Price</th>
    </tr>

    </thead>
    <tbody>
    <tr>
        <td class="chassis-number" th:text="${Car.chassisNumber}"></td>
        <td class="car-brand" th:text="${Car.brand}"></td>
        <td class="car-model" th:text="${Car.model}"></td>
        <td class="car-price" th:text="${Car.price}"></td>
    </tr>
    </tbody>

    <tr>
        <th>License plate</th>
        <th>Car State</th>
        <th>Transmission Type</th>
        <th>Registration Fee</th>
    </tr>
    <tr>
        <td class="license-plate" th:text="${Car.licensePlateNumber}"></td>
        <td class="car-state" th:text="${Car.carState}"></td>
        <td class="Transmission-type" th:text="${Car.transmissionType}"></td>
        <td class="registration-fee" th:text="${Car.registrationFee}"></td>
    </tr>
</table>
<form class="updateCar" action="/update_car_state" method="post">
    <label for="chassisNumber">Update car:</label>
    <input type="text" id="chassisNumber2" name="chassisNumber" th:value="${Car.chassisNumber}" readonly required>
    <label for="carState">Select car state:</label>
    <select id="carState" name="carState" required>
        <option value="RENTED">Rented</option>
        <option value="DAMAGED">Damaged</option>
        <option value="UNDER_MAINTENANCE">Under maintenance</option>
        <option value="GETTING_PREPARED">Getting prepared</option>
        <option value="RETURNED">Returned</option>
        <option value="AVAILABLE">Available</option>
    </select>
    <button type="submit">Update</button>
</form>

<form action="/createLease" method="post" class="lease-form">
    <div class="input-group">
        <label for="chassisNumber">Chassis Number:</label>
        <input type="text" id="chassisNumber" name="chassisNumber" th:value="${Car.chassisNumber}" readonly>
    </div>
    <div class="input-group">
        <label for="StartDate">Start Date:</label>
        <input type="date" id="StartDate" name="startDate" placeholder="Start Date" required
               pattern="\d{4}-\d{2}-\d{2}">
    </div>
    <div class="input-group">
        <label for="EndDate">End Date:</label>
        <input type="date" id="EndDate" name="endDate" placeholder="End Date" required pattern="\d{4}-\d{2}-\d{2}">
    </div>
    <div class="Hidden">
        <div class="input-group">
            <label for="terms">Terms:</label>
            <input type="text" id="terms" name="terms" placeholder="Terms">
        </div>
    </div>
    <div class="input-group">
        <label for="customerId">Customer:</label>
        <select id="customerId" name="customerId" class="customer-select">

            <option th:each="customer : ${Customers}" th:value="${customer.customerId}"
                    th:text="${customer.firstName + ' - ' + customer.customerId}"></option>

        </select>
        <br>
    </div>
    <button type="submit" class="submit-btn">Create lease</button>

    <div th:if="${error}">
        <p class="error-message" th:text="${error}"></p>
    </div>
    <div>
        <br>
    </div>

</form>
<!-- Image
<div class="image-container">
    <img class="image" th:src="${car.image_url}" alt="Car Image">
</div>
-->

<footer>
    <div th:insert="~{home/fragments :: footer}"></div>
</footer>

</body>
</html>
